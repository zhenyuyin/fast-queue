# fast-queue

1.使用更轻量级的原子操作代替锁,减少锁开销

2.使用环形数组保存数据,减少gc开销

3.使用内存填充避免伪共享

4.环形数组使用分片策略,解决数组过大导致的性能下降

5.环形数组长度及分片数量均使用2的N次方,采用位运算计算index

6.普通变量headcache字段缓存head值,减少对volatile字段的访问次数 ,减少线程本地缓存失效次数,提升并发能力

7.普通变量wait字段记录等待线程数,利用synchronized内存语义保证wait字段的可见性,从而减少不必要的 synchronize 与 notify操作  

8.put操作时若队列已满时,使用延时自旋代替wait,尽可能让出cpu给其他线程.
